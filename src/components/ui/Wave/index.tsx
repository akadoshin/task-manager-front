import { useMemo } from "react";
import { motion } from "framer-motion";

import "./wave.css";

export default function Wave({
  children,
}: Readonly<{ children: React.ReactNode }>) {
  const wave0 = useMemo(
    () => [
      "M 0,400 L 0,100 C 124.80000000000001,119.06666666666668 249.60000000000002,138.13333333333335 397,143 C 544.4,147.86666666666665 714.4000000000001,138.53333333333333 892,129 C 1069.6,119.46666666666667 1254.8,109.73333333333333 1440,100 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,100 C 198.66666666666663,91.6 397.33333333333326,83.2 555,87 C 712.6666666666667,90.8 829.3333333333335,106.80000000000001 970,111 C 1110.6666666666665,115.19999999999999 1275.3333333333333,107.6 1440,100 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,100 C 126.53333333333336,92.8 253.06666666666672,85.6 395,74 C 536.9333333333333,62.4 694.2666666666667,46.400000000000006 871,50 C 1047.7333333333333,53.599999999999994 1243.8666666666668,76.8 1440,100 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,100 C 170.2666666666667,120.53333333333333 340.5333333333334,141.06666666666666 518,146 C 695.4666666666666,150.93333333333334 880.1333333333334,140.26666666666665 1035,130 C 1189.8666666666666,119.73333333333333 1314.9333333333334,109.86666666666667 1440,100 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,100 C 124.80000000000001,119.06666666666668 249.60000000000002,138.13333333333335 397,143 C 544.4,147.86666666666665 714.4000000000001,138.53333333333333 892,129 C 1069.6,119.46666666666667 1254.8,109.73333333333333 1440,100 L 1440,400 L 0,400 Z",
    ],
    []
  );

  const wave1 = useMemo(
    () => [
      "M 0,400 L 0,233 C 184.66666666666669,232.06666666666666 369.33333333333337,231.13333333333335 536,239 C 702.6666666666666,246.86666666666665 851.3333333333333,263.5333333333333 999,264 C 1146.6666666666667,264.4666666666667 1293.3333333333335,248.73333333333335 1440,233 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,233 C 104.53333333333336,252.60000000000002 209.06666666666672,272.20000000000005 396,259 C 582.9333333333333,245.79999999999998 852.2666666666667,199.79999999999998 1040,190 C 1227.7333333333333,180.20000000000002 1333.8666666666668,206.60000000000002 1440,233 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,233 C 131.60000000000002,240.33333333333331 263.20000000000005,247.66666666666666 416,244 C 568.8,240.33333333333334 742.8,225.66666666666669 917,222 C 1091.2,218.33333333333331 1265.6,225.66666666666666 1440,233 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,233 C 182.13333333333333,221.13333333333333 364.26666666666665,209.26666666666668 535,222 C 705.7333333333333,234.73333333333332 865.0666666666666,272.06666666666666 1014,278 C 1162.9333333333334,283.93333333333334 1301.4666666666667,258.4666666666667 1440,233 L 1440,400 L 0,400 Z",
      "M 0,400 L 0,233 C 184.66666666666669,232.06666666666666 369.33333333333337,231.13333333333335 536,239 C 702.6666666666666,246.86666666666665 851.3333333333333,263.5333333333333 999,264 C 1146.6666666666667,264.4666666666667 1293.3333333333335,248.73333333333335 1440,233 L 1440,400 L 0,400 Z",
    ],
    []
  );

  return (
    <section>
      <div className="wave">{children}</div>
      <motion.svg
        width="100%"
        height="100%"
        className="wave-svg"
        viewBox="0 0 1440 390"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          stroke="none"
          strokeWidth="0"
          className="path-0"
          transform="rotate(-180 720 200)"
          d={wave0[0]}
          animate={{
            d: wave0,
          }}
          transition={{ duration: 12, repeat: Infinity, ease: "linear" }}
        />
        <motion.path
          stroke="none"
          strokeWidth="0"
          className="path-1"
          transform="rotate(-180 720 200)"
          d={wave1[0]}
          animate={{
            d: wave1,
          }}
          transition={{ duration: 12, repeat: Infinity, ease: "linear" }}
        />
      </motion.svg>
    </section>
  );
}
